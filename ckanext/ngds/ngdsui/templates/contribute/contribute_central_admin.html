{# ___NGDS_HEADER_BEGIN___

National Geothermal Data System - NGDS
https://github.com/ngds

File: <filename>

Copyright (c) 2013, Siemens Corporate Technology and Arizona Geological Survey

Please Refer to the README.txt file in the base directory of the NGDS
project:
https://github.com/ngds/ckanext-ngds/README.txt

___NGDS_HEADER_END___ #}


<!-- Codes by HTML.am -->
<!-- Start Styles. Move the 'style' tags and everything between them to between the 'head' tags -->
<style type="text/css">
.myOtherTable { border-style:none;border-collapse: collapse;color:#000;font-size:18px; }
.myOtherTable th { background-color:#C0C0C0; }
.myOtherTable td, .myOtherTable th { padding:5px;border:0; }
.myOtherTable td { border-bottom:1px dotted #BDB76B; border-left: 0px}
</style>
<!-- End Styles -->
<div id="contribute-central" class="contribute-central">

{% set flash_messages = h.flash.pop_messages() | list %}

            <div class="flash-messages">
              {% for message in flash_messages %}
                <div class="alert fade in {{ message.category }}" style="font-size:12px;text-align:left;font-family:Arial;font-weight:normal;color:red;">
                  {{ h.literal(message) }}
                </div>
              {% endfor %}
            </div>

	<div class="existing-nodes-admin">
		<h1>Manage Node</h1>
	
		<!--<h1>Manage Node</h1>-->
		<p style="text-align:left;line-height:18px;"><span style="font-family:Arial;font-size:30px;font-weight:bold;font-style:normal;text-decoration:none;color:#000000;">Harvesting</span></p> 
		


<p style="text-align:right;"><span style="font-family:Arial;font-size:13px;font-weight:normal;font-style:normal;text-decoration:none;color:#000000;"><a href="{{ h.url_for(controller='ckanext.ngds.ngdsui.controllers.contribute:ContributeController', action='harvest') }}" >Add Node</a></span></p>



		 <hr>
		<p style="text-align:left;line-height:18px;"><span style="font-family:Arial;font-size:13px;font-weight:normal;font-style:normal;text-decoration:none;color:#333333;">Please manage existing nodes.</span></p>
		
			<div id="manage-nodes">
				<table id="manage-nodes-table" class="myOtherTable" >
					<thead>
						<tr class="heading"><th></th>


							<th >Node Title<img src="/images/u90_normal.png"  style="cursor: pointer;cursor: hand;vertical-align:text-bottom"/>
							</th><th>Contact Name<img src="/images/u90_normal.png"  style="cursor: pointer;cursor: hand;vertical-align:text-bottom"/></th>
							<th>Status<img src="/images/u90_normal.png"  style="cursor: pointer;cursor: hand;vertical-align:text-bottom"/></th>
							<th>Last Synchronization<img src="/images/u90_normal.png"  style="cursor: pointer;cursor: hand;vertical-align:text-bottom"/></th></tr>
					</thead>
					<tbody >
				    {% for node in c.harvested_nodes %}
					<form method="post" action="do_harvest">
				    	<tr>
				    		<td>

				    			<img src="/images/node_edit.png"  alt="Edit" title="Edit" onclick="invokeAction( '{{ h.url_for(controller='ckanext.ngds.ngdsui.controllers.contribute:ContributeController', action='edit', id=node.id) }}', 'edit')" style="cursor: pointer;cursor: hand;float:middle"/>
				    			<!--
				    			<img src="/images/node_view.png" alt="View" title="View" onclick="invokeAction( '{{ h.url_for(controller='ckanext.ngds.ngdsui.controllers.contribute:ContributeController', action='read', id=node.id) }}', 'read')" style="cursor: pointer;cursor: hand;"/>
				    			<img src="/images/node_delete.png" alt="Delete" title="Delete" onclick="invokeAction( '{{ h.url_for(controller='ckanext.ngds.ngdsui.controllers.contribute:ContributeController', action='delete', id=node.id) }}', 'delete')" style="cursor: pointer;cursor: hand;"/>
				    			<img src="/images/node_schedule.png" alt="Schedule" title="Schedule" class="not-implemented" style="cursor: pointer;cursor: hand;"/>
				    			<img src="/images/node_refresh.png" alt="Refresh" title="Refresh" class="not-implemented" style="cursor: pointer;cursor: hand;"/><img src="/images/u90_normal.png" />
				    			<img src="/images/node_refresh.png" alt="Refresh" title="Refresh" class="not-implemented" style="cursor: pointer;cursor: hand;"/> -->
				    		</td>
				    		
				    		<td>{{ node.title }}</td>
				    		<td>{{ node.node_admin.name }}</td>
				    		<td>Synchronized</td>
				    		<td>2012-06-06</td>
				    	</tr>
					</form>
				    {% endfor %}
				    </tbody>
				</table>
			
	</div>
<script type="text/javascript">
function invokeAction(url,action)
{

/*	var msg = "Harevested Node will be deleted. Do you want to continue?";

	if(action=='edit'){
		msg = "Do you want to edit the harvested Node?";
	} else if(action =='read'){
		msg = "View the full details about the Node?";
	}*/
	if(action=='delete'){
		if(confirm("Harevested Node will be deleted. Do you want to continue?")){
			
		}else{
			return false;
		}
	}
	window.location.href =url;		
}
</script>
<!--
	<div class="create-node-admin">
		<p>Harvest new node? <a href="{{ h.url_for(controller='ckanext.ngds.ngdsui.controllers.contribute:ContributeController', action='harvest') }}" >Click here</a></p>
	</div> -->

</div>
