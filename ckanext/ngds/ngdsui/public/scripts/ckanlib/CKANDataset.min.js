ngds.ckandataset=function(a){var b=this;this.dataset=a;(function(c){if(c===null||typeof c==="undefined"){throw"Passed in object was null or undefined."}})(a);_ckan_dataset={construct:function(){var f;$.each(a.extras,function(h,i){if(i.key==="spatial"){f=i.value}});var c=$.parseJSON(f);var e=a.notes;var g={tag:"div",children:[{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;"},children:[{tag:"strong",priority:1,attributes:{text:"Title : "}},{tag:"a",attributes:{href:"/dataset/"+a.name,text:a.title,target:"_blank"}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:a.type},children:[{tag:"strong",priority:1,attributes:{text:"Type : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:a.author},children:[{tag:"strong",priority:1,attributes:{text:"Author : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:a.author_email},children:[{tag:"strong",priority:1,attributes:{text:"Author's Email : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:a.maintainer},children:[{tag:"strong",priority:1,attributes:{text:"Maintainer : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:a.maintainer_email},children:[{tag:"strong",priority:1,attributes:{text:"Maintainer's Email : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:ngds.util.get_n_chars(e,150)},children:[{tag:"strong",priority:1,attributes:{text:"Description : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:(new Date(a.metadata_created)).toLocaleDateString()},children:[{tag:"strong",priority:1,attributes:{text:"Created : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:(new Date(a.metadata_modified)).toLocaleDateString()},children:[{tag:"strong",priority:1,attributes:{text:"Last Modified : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px;",text:a.num_resources},children:[{tag:"strong",priority:1,attributes:{text:"Number of Resources : ",}}]},{tag:"p",attributes:{style:"margin-bottom:3px; margin-top:3px; color:blue;",text:ngds.util.deep_joiner(a.tags,"display_name",", ")},children:[{tag:"strong",priority:1,attributes:{text:"Tags : ",style:"color:#000;"}}]}]};var d=ngds.util.dom_element_constructor(g)[0].innerHTML;return{getGeoJSON:function(){return c},map:{getPopupHTML:function(){return d}},get_feature_type:function(){return c}}}};return _ckan_dataset.construct()};