ngds.config={number_of_rows:10};if(typeof ngds.Search!=="undefined"){ngds.pager=new ngds.Search()}ngds.feature_event_manager={};ngds.layer_map={};(function setup_control_styles(){ngds.subscribe("Map.loaded",function(a,b){$(".leaflet-control-zoom").css("margin-left","330px")})})();if(typeof ngds.Map!=="undefined"){ngds.Map.initialize();ngds.Map.top_level_search=function(){ngds.publish("Map.search_initiated",{});var b=ngds.Map.get_layer("drawnItems");var a=$("#map-query").val();ngds.util.clear_map_state();ngds.pager.go_to({page:1,action:ngds.ckanlib.package_search,rows:ngds.config.number_of_rows,q:a});ngds.publish("Map.expander.toggle",{no_toggle:true})}}(function publish_pager_advance(){$("#map-search").click(function(){ngds.Map.top_level_search()});$(".search-results-page-nums").on("click",null,function(a){var b=a.target.firstChild.data;if(typeof b==="undefined"){return}ngds.log("Going to page : "+b);ngds.publish("page.advance",{page:b})})})();(function subscribe_page_advance(){ngds.subscribe("page.advance",function(b,a){ngds.feature_ngds_id_mapping={};ngds.util.clear_map_state();ngds.Map.zoom_handler.clear_listeners();ngds.pager.go_to({page:a.page,action:ngds.ckanlib.package_search,rows:10})})})();if(typeof ngds.Map!=="undefined"){ngds.Map.map.on("draw:rectangle-created",function(a){ngds.Map.clear_layer("drawnItems");ngds.Map.add_to_layer([a.rect],"drawnItems");ngds.publish("Map.area_selected",{type:"rectangle",feature:a})});ngds.Map.map.on("draw:poly-created",function(a){ngds.Map.clear_layer("drawnItems");ngds.Map.add_to_layer([a.poly],"drawnItems");ngds.publish("Map.area_selected",{type:"polygon",feature:a})})}(function subscribe_feature_received(){ngds.subscribe("Map.feature_received",function(a,b){ngds.Map.add_raw_result_to_geojson_layer(b.feature,{seq:b.seq,alph_seq:b.alph_seq})});$(".map-search-results").on("mouseover",null,function(c){var b="";if(typeof c.srcElement==="undefined"){b=c.target}else{b=c.srcElement}var d=ngds.util.node_matcher(b,/result-\d.*/);if(d===null){return}var a={layer:ngds.layer_map[d]};ngds.publish("Layer.mouseover",{Layer:a,tag_index:d})});$(".map-search-results").on("mouseout",null,function(c){var b="";if(typeof c.srcElement==="undefined"){b=c.target}else{b=c.srcElement}var d=ngds.util.node_matcher(b,/result-\d.*/);if(d===null){return}var a={layer:ngds.layer_map[d]};ngds.publish("Layer.mouseout",{Layer:a,tag_index:d})});$(".map-search-results").on("click",null,function(c){var b="";if(typeof c.srcElement==="undefined"){b=c.target}else{b=c.srcElement}var d=ngds.util.node_matcher(b,/result-\d.*/);if(d===null||typeof d==="undefined"){return}ngds.util.reset_result_styles();var a={layer:ngds.layer_map[d]};ngds.publish("Layer.click",{Layer:a,tag_index:d})})})();(function setup_styler_for_features(){ngds.subscribe("Layer.mouseover",function(a,c){var b=c.Layer.layer.is_active||null;if(b===null||b===false){ngds.util.apply_feature_hover_styles(c.Layer.layer,c.tag_index)}});ngds.subscribe("Layer.mouseout",function(a,c){var b=c.Layer.layer.is_active||null;if(b===null||b===false){ngds.util.apply_feature_default_styles(c.Layer.layer,c.tag_index)}});ngds.subscribe("Layer.click",function(d,e){ngds.util.reset_result_styles();for(var b in ngds.layer_map){ngds.util.apply_feature_default_styles(ngds.layer_map[b],b);if(ngds.layer_map[b]._leaflet_id===e.Layer.layer._leaflet_id){ngds.layer_map[b].is_active=true}else{ngds.layer_map[b].is_active=false}}var a=e.Layer.layer._latlng||e.Layer.layer._latlngs;var c=(function(g){if(typeof g==="object"&&typeof g[0]==="undefined"){return g}var h=ngds.Map.utils.get_bound(g,"lat","min");var j=ngds.Map.utils.get_bound(g,"lat","max");var f=ngds.Map.utils.get_bound(g,"lng","min");var i=ngds.Map.utils.get_bound(g,"lng","max");return{lat:(h+j)/2,lng:(f+i)/2}})(a);ngds.Map.map.panTo(c);e.Layer.layer.openPopup();ngds.util.apply_feature_active_styles(e.Layer,e.tag_index)});ngds.subscribe("Layer.add",function(a,b){});ngds.subscribe("Layer.remove",function(a,b){})})();(function setup_events_for_map_features(){ngds.subscribe("Map.add_feature",function(a,c){var b=c.feature;ngds.layer_map[c.seq_id]=b;ngds.feature_event_manager[b._leaflet_id]={Layer:b,seq_id:c.seq_id};b.on("mouseover",function(d){ngds.publish("Layer.mouseover",{Layer:d,tag_index:c.seq_id})});b.on("mouseout",function(d){ngds.publish("Layer.mouseout",{Layer:d,tag_index:c.seq_id})});b.on("click",function(d){ngds.publish("Layer.click",{Layer:d,tag_index:c.seq_id})})})})();(function publish_map_search_results_expanded(){$(".map-expander").on("click",null,function(){ngds.publish("Map.expander.toggle",{})})})();(function subscribe_map_search_results_expanded(){var a="contract";ngds.subscribe("Map.expander.toggle",function(b,c){var d=c.no_toggle||false;if(a==="contract"&&d===false){a="expand";$(".results").hide();$(".search-results-pagination").hide();$(".search-results-pagination").addClass("no-padding");$(".results-text").hide();$(".map-expander").css("top","80px")}else{a="contract";$(".results").show();$(".results-text").show();$(".search-results-pagination").show();$(".search-results-pagination").removeClass("no-padding");$(".map-expander").css("top","0px")}})})();ngds.publish("Map.expander.toggle",{});(function(){if(typeof ngds.Map!=="undefined"){ngds.Map.map.on("enterFullscreen",function(){ngds.publish("Map.size_changed",{fullscreen:true})});ngds.Map.map.on("exitFullscreen",function(){ngds.publish("Map.size_changed",{fullscreen:false})})}ngds.subscribe("Map.size_changed",function(a,b){if(b.fullscreen===true){ngds.Map.state["map-search-results-left"]=$(".map-search-results").css("left");ngds.Map.state["map-search-results-top"]=$(".map-search-results").css("top");ngds.Map.state["map-search-left"]=$(".map-search").css("left");ngds.Map.state["map-search-top"]=$(".map-search").css("top");$(".map-search").css({left:"10px",position:"fixed"});$(".map-search-results").css({left:"10px",position:"fixed"})}else{$(".map-search").css({left:ngds.Map.state["map-search-left"],top:ngds.Map.state["map-search-top"],position:"absolute"});$(".map-search-results").css({left:ngds.Map.state["map-search-results-left"],top:ngds.Map.state["map-search-results-top"],position:"absolute"})}})})();var err={type:"content_model_validation_error",display:"Validation errors",data:[{message:"cell (2,4): '5.5' (field LongDegree) is expected to be a Numeric",errorType:"numericCellViolation",col:4,row:2},{message:'cell (2,5): "5.6" (field LocationUncertaintyRadius) is expected to be a Numeric',errorType:"numericCellViolati",col:5,row:2},{message:"cell (2,6): double (field DrillerTotalDepth) is expected to be a Numeric",errorType:"numericCellViolation",col:6,row:2},{message:"cell (2,7): double (field TrueVerticalDepth) is expected to be a Numeric",errorType:"numericCellViolation",col:7,row:2},{message:"cell (2,8): double (field ElevationKB) is expected to be a Numeric",errorType:"numericCellViolation",col:8,row:2},{message:"cell (2,9): double (field ElevationDF) is expected to be a Numeric",errorType:"numericCellViolation",col:9,row:2},{message:"cell (2,10): double (field ElevationGL) is expected to be a Numeric",errorType:"numericCellViolation",col:10,row:2},{message:"cell (2,11): double (field BitDiameterTD) is expected to be a Numeric",errorType:"numericCellViolation",col:11,row:2},{message:"cell (2,12): double (field MaximumRecordedTemperature) is expected to be a Numeric",errorType:"numericCellViolation",col:12,row:2},{message:"cell (2,13): double (field MeasuredTemperature) is expected to be a Numeric",errorType:"numericCellViolation",col:13,row:2},{message:"cell (2,14): double (field CorrectedTemperature) is expected to be a Numeric",errorType:"numericCellViolation",col:14,row:2},{message:"cell (2,15): double (field CirculationDuration) is expected to be a Numeric",errorType:"numericCellViolation",col:15,row:2},{message:"cell (2,16): double (field DepthOfMeasurement) is expected to be a Numeric",errorType:"numericCellViolation",col:16,row:2},{message:"cell (2,17): double (field CasingBottomDepthDriller) is expected to be a Numeric",errorType:"numericCellViolation",col:17,row:2},{message:"cell (2,18): double (field CasingTopDepth) is expected to be a Numeric",errorType:"numericCellViolation",col:18,row:2},{message:"cell (2,19): double (field CasingPipeDiameter) is expected to be a Numeric",errorType:"numericCellViolation",col:19,row:2},{message:"cell (2,20): double (field CasingWeight) is expected to be a Numeric",errorType:"numericCellViolation",col:20,row:2},{message:"cell (2,21): double (field CasingThickness) is expected to be a Numeric",errorType:"numericCellViolation",col:21,row:2},{message:"cell (2,22): double (field pH) is expected to be a Numeric",errorType:"numericCellViolation",col:22,row:2}],valid:"false"};